---
title: 类 Class 与 对象 Object 
date: 2025-10-30
series: Java
category: Note
---




# 类`Class`与对象`Object`



## 类 与 对象的基本使用



```java
public class MainNew {
    public static void main(String[] args) {

        // 创建一个猫对象
        cat sWhite = new cat();

        sWhite.name = "小白"; // 给猫对象的name属性赋值
        sWhite.age = 1; // 给猫对象的age属性赋值
        sWhite.color = "白色"; // 给猫对象的color属性赋值

        System.out.println(sWhite.name + " " + sWhite.age + " " + sWhite.color);

    }
}

// 创建一个猫类
class cat {

    String name; // 定义猫对象的name属性
    int age; // 定义猫对象的age属性
    String color; // 定义猫对象的color属性
}
```





## 属性概念



1. 从概念和叫法上来看

	`成员变量`=`属性`=`field`

	即成员变量是用来表示属性的，授课中，统一叫属性

2. 属性是类的一个组成部分，一般使用基本数据类型，也可以是引用对象（对象，数组）。

## 属性细节



1. 属性的定义语法同变量，示例:访问修饰符 属性类型 属性名;
   1. 访问修饰符: 控制属性的访问范围有四种访问修饰符 public, proctected,默认,private
2. 属性的定义类型可以为任意类型，包含基本类型或引用类型
3. 属性如果不赋值，有默认值，规则和数组一致。
   1. 具体说:`int0` `short0` `byte0` `long0` `float0.0` `double0.0` `char\u0000` `booleanfalse` `Stringnull`

```java
public class MainNew {
    public static void main(String[] args) {

        // 创建一个猫对象
        cat sWhite = new cat();

        sWhite.name = "小白"; // 给猫对象的name属性赋值
        sWhite.age = 1; // 给猫对象的age属性赋值
        sWhite.color = "白色"; // 给猫对象的color属性赋值

        System.out.println(sWhite.name + " " + sWhite.age + " " + sWhite.color);
        System.out.println(sWhite.sal + " " + sWhite.isMale);
    }
}

// 创建一个猫类
class cat {

    String name; // 定义猫对象的name属性
    int age; // 定义猫对象的age属性
    String color; // 定义猫对象的color属性
    double sal;
    boolean isMale;
}

```







## 创建对象访问机制



**如何创建对象：**

1. 先声明再创建

`Cat cat;`

`cat = new Cat()`

1. 直接创建

	`Cat cat = new Cat()`



## 如何访问对象



对象名.属性名

`cat.name;`

`cat.age;`



## 类和对象分配机制



### 对象分配机制



对象的分配机制，实际上是引用，如a已经声明了一个类，b = a；的话，b是引用于a 共用一个地址

```java
public class MainNew {
    public static void main(String[] args) {

        Person p1 = new Person();
        p1.age = 10;
        p1.name = "小明";
        Person p2 = p1;// 把p1 赋给了 p2，让p2指向p1
        p1.age = 80;
        System.out.println(p2.age);// p2和p1指向同一个对象，所以p2.age=80
    }
}

// 创建一个Person类
class Person {
    String name;
    int age;

}

```





1. 先加载Person类信息，只会加载一次
2. 在堆中分配空间，进行默认初始化
3. 把地址赋给p，p就指向对象
4. 进行指定初始化，例如 `p1.age = 10;`





## 类 与 对象 的关系示意图



![类与对象关系示意图](D:\Typora\TyporaPics\image-20250907202856242.png)





## JVM的内存分析代码执行流程





![image-20250907201933591](D:\Typora\TyporaPics\image-20250907201933591.png)







## 方法（Method）

> 注意Return

 方法是在**类**中定义的方法，可以被main类调用`p1.speak`



## 方法的基本使用





![image-20250913203047243](D:\Typora\TyporaPics\image-20250913203047243.png)



![image-20250913204241178](D:\Typora\TyporaPics\image-20250913204241178.png)



```java
public class MainNew {
	public static void main(String[] args) {

		System.out.println(" ");
		Person p1 = new Person();
		int x = 1;
		p1.name = "小明";
		// 方法写好后如果不调用，那么方法就不会执行
//		p1.speak();  让猫说话
//		p1.cal01();
//		p1.cal02(5);// 调用cal02方法，传入参数5
//		p1.cal03(1, 2); //调用cal03 方法，传入参数1,2
//		int returnRes = p1.getSum(3, 6);//调用getSum方法，同时a=3,b=6,  把getSum返回的值，赋值给returnRes
//		System.out.println("getSum返回的值是:" + returnRes);

		int[] res = p1.getSumAndSub(2, 2);  //调用参数要和传入数据类型相同 如int ，后面是2
		System.out.println("sum= " + res[0] + "\nsub= " + res[1]);

		byte b1= 1 ;
		byte b2= 2 ;
		p1.getSumAndSub(b1,b2);
//		p1.getSumAndSub(1.1,1.8); 不可以把高精度的转移到低精度的
//		p1.getSumAndSub(1000); 传参个数不一致

		p1.f3("hello",1);
//		p1.f3(1,"1");   传参形式不兼容
	}


}

// 创建一个猫类
class Person {
	String name;

	public void speak() {
		System.out.println(name + " hello");
	}





	public void f3(String str,int n ){

	}

	public void f5(){
		//public void f7
		//方法里不能套方法
	}



	public void cal01() {

		int sum = 0;
		for (int i = 0; i <= 100; i++) {
			sum += i;
		}
		System.out.println("cal01 " + sum);
	}

	// int n 形参列表 表示当前有一个形参，可以接收用户输入
	public void cal02(int n) {
		int sum = 0;
		for (int i = 0; i <= n; i++) {
			sum += i;
		}
		System.out.println("cal02 " + sum);
	}


	//计算两个数的和
	//现在有两个形参，可以接收用户传入的两个参数
	public void cal03(int a, int b) {
		System.out.println("cal03 " + (a + b));
	}

	public int getSum(int a, int b) {
		int sum = a + b;
		return sum;
	}

	public int[] getSumAndSub(int n1, int n2) {

		int[] resArr = new int[2];
		resArr[0] = n1 + n2;
		resArr[1] = n1 - n2;
		return resArr;


	}

	public double f1(){
		double d1=1.1*3;
		int n = 1;
		return n;   //int可以转换成double类型，但double不能转换成int类型，因为精度会缺失
	}

	public void f2(){
		System.out.printf("HelloWorld!");
		System.out.printf("HelloWorld!");
		System.out.printf("HelloWorld!");

	}

}

```





跨类的方法调用需要通过对象名调用

同个类中方法可以直接调用

```java
public class MainNew {
	public static void main(String[] args) {

		System.out.println(" ");
		A a = new A();
		a.Sayok();

		a.m1();
	}



}

class A{
	public void print(int n ){
		System.out.println("print方法n被调用");
	}
	public void Sayok(){  //sayok 中调用print直接调用即可不用创建
		print(10);
		System.out.println("继续执行CayOK");
	}

	//跨类的方法调用需要通过对象名调用
	public void m1(){
		System.out.println("被调用");
		B b = new B();
		b.hi();
		System.out.println("继续被执行");
	}
}


class B{

	public void hi(){

		System.out.println("B被执行");
	}

}
```



## 成员方法

类定义的完善



```java
class 类名{

属性（成员变量）；

成员方法

}
```





比较简单的类和方法的使用练习

```java
public class MainNew {
	public static void main(String[] args) {

		System.out.println(" ");
		AA a= new AA();

//		if(a.isOdd(1)){ //T,这样的写法以后会看到很多，将boolean值直接交给if，如果是false直接跳到else中
//			System.out.println("是奇数");
//		}else {
//			System.out.println("是偶数");
//		}

		//使用print方法
		a.print(4,4,'#');

	}
}
class AA{
	//思路
	//1. 方法的返回类型 boolean
	//2. 方法的名字 isOdd
	//3. 方法的形参 (int num)
	//4. 方法体,judge
	public boolean isOdd(int num){

//		if(num % 2 !=0) {
//			return true;
//		}else {
//			return false;
//		}

//		return num % 2 !=0 ? true; false;
		return num % 2 !=0;
	}

	/*
	####
	####
	####
	####
	 */

	//思路
	//1. 方法的返回类型 void
	//2. 方法的名字 print
	//3. 方法的形参 (int row，int column,char c)
	//4. 方法体,for
	public void print(int row,int col,char c){
		for(int i = 0;i<row;i++){
			for(int j = 0;j<col;j++){//输出每一行
				System.out.print((c));
			}
			System.out.println();
		}
	}
}

```



### 成员方法传参机制

形参的任何改变 不影响实参 

```java
public class MainNew {
	public static void main(String[] args) {

		System.out.println(" ");


		int a = 10;
		int b = 20;

		A o = new A();
		o.swap(a,b);

		//调用完毕，形参ab已经销毁，所以sout中的ab已经变回10 20；
		System.out.println("\na="+a +',' + "\nb="+b);

	}

}
class A{
	public void swap(int a,int b) {
		System.out.println( "a和b交换前的值" +    "\na="+a +',' + "\nb="+b);
		int t =  a;
		a=b;
		b=t;
		System.out.println( "a和b交换后的值" +    "\na="+a +',' + "\nb="+b);

	}
}

```



但`数组Arr[]`和`字符串String`是引用，其来自同一个内存地址，所以会随着方法的引用而改变。



```java
public class MainNew {
	public static void main(String[] args) {

		System.out.println(" ");

		// int[] arr = {1, 2, 3};

		// System.out.println("Origin's array");
		// for (int i=0 ;i<arr.length;i++){
		// System.out.print(arr[i]+"\t");
		// }
		// System.out.println();
		B b=new B();
		// b.test100(arr);

		// System.out.println("Main's array");

		// for (int i=0 ;i<arr.length;i++){
		// System.out.print(arr[i]+"\t");
		// }
		// System.out.println();

		Person p = new Person();
		p.name = "jackie";
		p.age = 10;

		b.test200(p);
		System.out.println("年龄是"+p.age);
	}
}

class Person {
	String name;
	int age;

}

class B {

	public void test200(Person p) {
	p.age = 9999;

	}
	// test100,可以接收数组，在方法中修改数组，看看原来的数组是否变化
	public void test100(int[] arr) {
		arr[0] = 100;
		// 遍历数组
		System.out.println("Test100's array");

		for (int i = 0; i < arr.length; i++) {
			System.out.print(arr[i] + "\t");
		}
		System.out.println();

	}


	// test200,可以接收Person(age,sal)对象，在方法中修改该对象属性，
	// 看看原来的对象是否变化

}

```





copyPerson对象



```java
public class MainNew {
	public static void main(String[] args) {
		System.out.println(" ");

		Person p = new Person();
		p.name = "milan";
		p.age = 30;

		MyTools tools = new MyTools();
		Person p2 = tools.copyPerson(p);

		// p and p2 are two independent objects
		System.out.println("p properties: age: " + p.age + ", name: " + p.name);
		System.out.println("p2 properties: age: " + p2.age + ", name: " + p2.name);
	}
}

class Person {
	String name;
	int age;
}

class MyTools {
	public Person copyPerson(Person p) {
		// create a new object
		Person p2 = new Person();
		p2.name = p.name; // copy name from p
		p2.age = p.age; // copy age from p
		return p2;
	}
}


```