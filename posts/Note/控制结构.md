---
title: 控制结构
date: 2025-10-30
series: Java
category: Note
---



# 控制结构（分支、循环、跳转）

## 键盘输入：Scanner

```java
import java.util.Scanner; // 1. 声明要使用Scanner工具

public class Main {
    public static void main(String[] args) {
        Scanner myScanner = new Scanner(System.in); // 2. 创建扫描器
        System.out.println("请输入薪水");
        double a = myScanner.nextDouble(); // 3. 使用扫描器读取输入
        System.out.println(a);
        myScanner.close(); // 4. 关闭扫描器，释放资源
    }
}
```

---

## 分支控制 if / else / switch

- 当条件表达式为 true 时执行大括号内代码
- 大括号中只有一条语句可省略，但建议保留

### if 单分支 与 if-else 双分支

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner ageScanner = new Scanner(System.in);
        System.out.println("请输入年龄");
        int age=ageScanner.nextInt();
        if (age >= 18 ) {
            System.out.println("你已经成年,可以进网吧嗨皮");
        } else {
            System.out.println("你还未成年,不能进网吧");
        }
        ageScanner.close();
    }
}
```

#### 例：能被3和5整除

```java
public class Main {
    public static void main(String[] args) {
        int a = 10;
        int b = 5;
        int c = a + b ;
        if (c %5==0 && c%3 == 0) {
            System.out.println("可以被5和3整除");
        }else{
            System.out.println("不可以被5和3整除");
        }
    }
}
```

#### 例：闰年判断

```java
public class Main {
    public static void main(String[] args) {
        int year = 2015 ;
        if (year %4 == 0 && year % 100 !=0 || year % 400 == 0){
            System.out.println("是闰年");
        }else {
            System.out.println("不是闰年");
        }
    }
}
```

### else-if 多分支 与 if-if 嵌套

```java
public class Main {
    public static void main(String[] args) {
        double x = 11;
        double y = 19;
        if(x > 10.0 && y < 20.0){
            System.out.println("the sum=12 + 19 is:" + x+y);
        }
    }
}
```

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner myScanner = new Scanner(System.in);
        System.out.println("Enter the score");
        double score = myScanner.nextDouble();
        if (score > 8.0) {
            System.out.println("Enter the gender");
            char gender = myScanner.next().charAt(0);
            if (gender == 'M') {
                System.out.println("Enter the final of Male");
            } else if (gender == 'F') {
                System.out.println("Enter the final of Female");
            } else {
                System.out.println("Error");
            }
        } else {
            System.out.println("You are not eligible for the final");
        }
    }
}
```

### switch case 分支

- 表达式类型需与 case 常量一致，或可自动转换
- 支持：byte, short, int, char, enum, String
- `default` 可选

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner myScanner = new Scanner(System.in);
        System.out.println("请输入字母:");
        char letter = myScanner.next().charAt(0);
        switch(letter){
          case 'a':
            System.out.println("星期一");
            break;
          case 'b':
            System.out.println("星期二");
            break;
          case 'c':
            System.out.println("星期三");
            break;
          case 'd':
            System.out.println("星期四");
            break;
          case 'e':
            System.out.println("星期五");
            break;
          case 'f':
            System.out.println("星期六");
            break;
          case 'g':
            System.out.println("星期日");
            break;
          default:
            System.out.println("星期八 你脑子锈了");
            break;
        }
        myScanner.close();
        System.out.println("退出了程序，继续执行代码");
    }
}
```

#### 例：分数合格与否

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner myScanner = new Scanner(System.in);
        System.out.println("输入分数:");
        double score = myScanner.nextDouble();
        if (score >= 0 && score <= 100) {
            switch ((int) score / 60) {
                case 1:
                    System.out.println("及格");
                    break;
                case 0:
                    System.out.println("不及格");
                    break;
            }
        } else {
            System.out.println("输入的分数不合法");
        }
        myScanner.close();
    }
}
```

#### 例：输入数字得到季节（穿透）

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner myScanner = new Scanner(System.in);
        System.out.println("输入Season:");
        int season = myScanner.nextInt();
        if (season >= 0 && season <= 12) {
            switch (season) {
                case 3:
                case 4:
                case 5:
                    System.out.println("春");
                    break;
                case 6:
                case 7:
                case 8:
                    System.out.println("夏");
                    break;
                case 9:
                case 10:
                case 11:
                    System.out.println("秋");
                    break;
                case 12:
                case 1:
                case 2:
                    System.out.println("冬");
                    break;
                default:
                    System.out.println("输入的Season不合法");
                    break;
            }
            myScanner.close();
        }
    }
}
```

---

## 循环控制 for / while / do-while

### for 基础

```java
public class Main {
    public static void main(String[] args) {
        for (int i = 1; i <= 100; i++) {
            if (i % 3 == 0) {
                System.out.println(i);
            }
        }
    }
}
```

```java
public class Main {
    public static void main(String[] args) {
        for (int i = 1; i <= 10; i++) {
            System.out.println("i=" + i);
        }
        int j = 1;
        for (; j <= 10;) {
            System.out.println("j=" + j);
            j++;
        }
        int count = 3;
        int y = 0;
        for (int x = 0; x < count; x++,y+=2) {
            System.out.println("x=" + x + " y=" + y);
        }
    }
}
```

#### 例：统计1-100中能被9整除的个数与总和

```java
public class Main {
    public static void main(String[] args) {
        int i = 1;
        int j = 0;
        int count = 0;
        for (; i <= 100; i++) {
            if (i % 9 == 0) {
                count += i;
                j++;
            }
        }
        System.out.println("个数:" + j);
        System.out.println(count);

        int x = 0;
        int y = 5;
        for (; x <= 5; x++, y--) {
            System.out.println(x + "+" + y + "=" + 5);
        }
    }
}
```

### for-for 多层嵌套

```java
public class Main {
    public static void main(String[] args) {
        for (int i = 0; i < 2; i++) {
            for (int j = 0; j < 3; j++) {
                System.out.println("i = " + i + " j = " + j);
            }
        }
    }
}
```

#### 例：三班各5人的平均分、总分、及格人数

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner scoreScanner = new Scanner(System.in);
        double totalScore = 0;
        double sumGood = 0;
        for (int i = 1; i <= 3; i++) {
            double sum = 0;
            for (int j = 1; j <= 5; j++) {
                System.out.println("请输入第" + i + "班第" + j + "个学生的成绩");
                double score = scoreScanner.nextDouble();
                if (score >= 60 && score <= 100) {
                    sumGood += 1;
                }
                sum += score;
                totalScore += sum;
            }
            System.out.println(i + "班的平均分为" + (sum / 5) + "   总分为：" + sum + "\n");
        }
        System.out.println("所有班级的平均分为" + (totalScore / 15) + "   总分为：" + totalScore + "\n");
        System.out.println("及格人数为：" + sumGood + "\n");
        scoreScanner.close();
    }
}
```

#### 例：九九乘法表

```java
public class Main {
    public static void main(String[] args) {
        for (int i = 1; i <= 9; i++) {
            for (int j = 1; j <= i; j++) {
                int sum = i * j;
                System.out.print(j + "*" + i + "=" + sum + "\t");
            }
            System.out.println();
        }
    }
}
```

#### 例：空心金字塔 + 倒立空心金字塔

```java
public class Main {
    public static void main(String[] args) {
        int totalLevel = 5;
        for (int i = 1; i <= totalLevel; i++) {
            for (int s = 1; s <= totalLevel - i; s++) {
                System.out.print(" ");
            }
            for (int j = 1; j <= 2 * i - 1; j++) {
                if (j == 1 || j == 2 * i - 1) {
                    System.out.print("*");
                } else {
                    System.out.print(" ");
                }
            }
            System.out.println();
        }
        for (int i = 1; i <= totalLevel; i++) {
            for (int s = 1; s <= i - 1; s++) {
                System.out.print(" ");
            }
            int charCount = 2 * (totalLevel - i + 1) - 1;
            for (int j = 1; j <= charCount; j++) {
                if (j == 1 || j == charCount) {
                    System.out.print("*");
                } else {
                    System.out.print(" ");
                }
            }
            System.out.println();
        }
    }
}
```

---

## while 与 do-while

```java
// while：先判断再执行
int i = 1;
while (i <= 5) {
    System.out.println(i);
    i++;
}

// do-while：先执行再判断
int k = 1;
do {
    System.out.println(k);
    k++;
} while (k <= 5);
```

---

## 跳转控制 break / continue / return

### break：中止当前循环

```java
public class Main {
    public static void main(String[] args) {
        int j = 1;
        for (int i = 1; i <= 100; i++) {
            j += i;
            if (j > 20) {
                break;
            }
        }
        System.out.println("第一次大于20的当前数为" + j);
    }
}
```

### 登录系统（break跳出标号循环）

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        int maxChance = 3;
        int chance = 3;
        Scanner loginScanner = new Scanner(System.in);
        abc: for (int i = 1; i <= maxChance; i++) {
            System.out.println("请输入用户名");
            String username = loginScanner.next();
            System.out.println("请输入密码");
            String password = loginScanner.next();
            if ("丁真".equals(username) && "666".equals(password)) {
                System.out.println("登录成功");
                break abc;
            } else {
                chance--;
                System.out.println("登录失败,还有" + chance + "次机会");
            }
        }
    }
}
```

### continue：跳过本次，继续下一次

```java
public class Main {
    public static void main(String[] args) {
        for (int i = 0; i < 5; i++) {
            if (i == 3) {
                System.out.println("那里会有i，因为continue只是插曲，并且继续了故事，i = " + i);
                continue;
            }
            System.out.println("那里有i，i = " + i);
        }
    }
}
```

### return：结束整个方法

```java
public class Main {
    public static void main(String[] args) {
        System.out.println("故事开始...");
        for (int i = 0; i < 5; i++) {
            if (i == 3) {
                System.out.println("那里不会再有i了，i = " + i);
                return;
            }
            System.out.println("那里有i，i = " + i);
        }
    }
}
```

### 同一循环对比 break/continue/return

```java
public class Main {
    public static void main(String[] args) {
        System.out.println("故事开始...");
        for (int i = 0; i < 5; i++) {
            if (i == 3) {
                System.out.println("那里不会再有i了，因为break中止了故事，i = " + i);
                break;
            }
            System.out.println("那里有i，i = " + i);
        }

        System.out.println("故事开始...");
        for (int i = 0; i < 5; i++) {
            if (i == 3) {
                System.out.println("那里会有i，因为continue只是插曲，并且继续了故事，i = " + i);
                continue;
            }
            System.out.println("那里有i，i = " + i);
        }

        System.out.println("故事开始...");
        for (int i = 0; i < 5; i++) {
            if (i == 3) {
                System.out.println("那里不会再有i了，因为return将后续的故事退回不再讲述，i = " + i);
                return;
            }
            System.out.println("那里有i，i = " + i);
        }
    }
}
```